{"version":3,"file":"data-adapter.js","sources":["js/data/data-adapter.js"],"sourcesContent":["const QuestionType = {\n  artist: `guessArtist`,\n  genre: `chooseGenre`\n};\n\nconst preProcessType = (type) => {\n  return QuestionType[type];\n};\n\nconst preProcessArtistAnswers = (answers) => {\n  let newAnswers = {};\n\n  answers.forEach((answer, index) => {\n    newAnswers[`val-${index}`] = {\n      track: {\n        artist: answer.title,\n        image: answer.image.url\n      },\n      correct: answer.isCorrect\n    };\n  });\n\n  return newAnswers;\n};\n\nconst preProcessGenreAnswers = (answers, genre) => {\n  let newAnswers = {};\n\n  answers.forEach((answer, index) => {\n    newAnswers[`val-${index}`] = {\n      track: {\n        src: answer.src\n      },\n      correct: answer.genre === genre\n    };\n  });\n\n  return newAnswers;\n};\n\nconst adaptServerData = (data) => {\n\n  for (const question of data) {\n    question.type = preProcessType(question.type);\n\n    question.title = question.question;\n\n    if (question.type === QuestionType.artist) {\n      question.answers = preProcessArtistAnswers(question.answers);\n    } else if (question.type === QuestionType.genre) {\n      question.answers = preProcessGenreAnswers(question.answers, question.genre);\n    }\n  }\n\n  return data;\n};\n\nexport default adaptServerData;\n"],"names":[],"mappings":";;;EAAA,MAAM,YAAY,GAAG;EACrB,EAAE,MAAM,EAAE,CAAC,WAAW,CAAC;EACvB,EAAE,KAAK,EAAE,CAAC,WAAW,CAAC;EACtB,CAAC,CAAC;;EAEF,MAAM,cAAc,GAAG,CAAC,IAAI,KAAK;EACjC,EAAE,OAAO,YAAY,CAAC,IAAI,CAAC,CAAC;EAC5B,CAAC,CAAC;;EAEF,MAAM,uBAAuB,GAAG,CAAC,OAAO,KAAK;EAC7C,EAAE,IAAI,UAAU,GAAG,EAAE,CAAC;;EAEtB,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,KAAK,KAAK;EACrC,IAAI,UAAU,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,GAAG;EACjC,MAAM,KAAK,EAAE;EACb,QAAQ,MAAM,EAAE,MAAM,CAAC,KAAK;EAC5B,QAAQ,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,GAAG;EAC/B,OAAO;EACP,MAAM,OAAO,EAAE,MAAM,CAAC,SAAS;EAC/B,KAAK,CAAC;EACN,GAAG,CAAC,CAAC;;EAEL,EAAE,OAAO,UAAU,CAAC;EACpB,CAAC,CAAC;;EAEF,MAAM,sBAAsB,GAAG,CAAC,OAAO,EAAE,KAAK,KAAK;EACnD,EAAE,IAAI,UAAU,GAAG,EAAE,CAAC;;EAEtB,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,KAAK,KAAK;EACrC,IAAI,UAAU,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,GAAG;EACjC,MAAM,KAAK,EAAE;EACb,QAAQ,GAAG,EAAE,MAAM,CAAC,GAAG;EACvB,OAAO;EACP,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,KAAK,KAAK;EACrC,KAAK,CAAC;EACN,GAAG,CAAC,CAAC;;EAEL,EAAE,OAAO,UAAU,CAAC;EACpB,CAAC,CAAC;;EAEF,MAAM,eAAe,GAAG,CAAC,IAAI,KAAK;;EAElC,EAAE,KAAK,MAAM,QAAQ,IAAI,IAAI,EAAE;EAC/B,IAAI,QAAQ,CAAC,IAAI,GAAG,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;;EAElD,IAAI,QAAQ,CAAC,KAAK,GAAG,QAAQ,CAAC,QAAQ,CAAC;;EAEvC,IAAI,IAAI,QAAQ,CAAC,IAAI,KAAK,YAAY,CAAC,MAAM,EAAE;EAC/C,MAAM,QAAQ,CAAC,OAAO,GAAG,uBAAuB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;EACnE,KAAK,MAAM,IAAI,QAAQ,CAAC,IAAI,KAAK,YAAY,CAAC,KAAK,EAAE;EACrD,MAAM,QAAQ,CAAC,OAAO,GAAG,sBAAsB,CAAC,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;EAClF,KAAK;EACL,GAAG;;EAEH,EAAE,OAAO,IAAI,CAAC;EACd,CAAC,CAAC;;;;;;;;"}